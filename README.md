# ğŸ¥ YouTube Learning Companion

> AI-powered smart notes, quizzes, and flashcards from any YouTube video.

Paste a YouTube URL â†’ get a **summary**, **timestamped notes**, **interactive quiz**, and **flashcards** â€” all generated by Gemini AI from the video transcript.

---

## âœ¨ Features

| Feature | Description |
|---|---|
| ğŸ“ Smart Notes | Timestamped notes â€” click to jump to that moment in the video |
| â“ Interactive Quiz | 8â€“12 MCQ questions with explanations |
| ğŸƒ Flashcards | Flip-card flashcards with shuffle mode |
| ğŸ“„ PDF Export | Download notes + quiz + flashcards as a styled PDF |
| ğŸ“š History | Last 10 analyses stored in localStorage; MongoDB for persistent storage |
| ğŸ” Search | Search history by title or summary |

---

## ğŸš€ Quick Start

### Prerequisites

- Node.js v18+
- A [Gemini API key](https://aistudio.google.com/app/apikey) (free)
- MongoDB (optional â€” app works without it using localStorage)

---

### 1. Clone & Install

```bash
git clone <your-repo-url>
cd youtube-learning-companion

# Install backend deps
cd backend && npm install

# Install frontend deps
cd ../frontend && npm install
```

---

### 2. Configure Environment

**Backend** â€” copy `.env.example` to `.env`:
```bash
cd backend
cp .env.example .env
```

Edit `backend/.env`:
```env
PORT=5000
NODE_ENV=development
GEMINI_API_KEY=your_gemini_api_key_here
MONGODB_URI=                          # Optional â€” leave blank to skip MongoDB
FRONTEND_URL=http://localhost:5173
```

**Frontend** â€” copy `.env.example` to `.env`:
```bash
cd frontend
cp .env.example .env
```

Edit `frontend/.env`:
```env
VITE_API_URL=http://localhost:5000
```

---

### 3. Run Development Servers

Open two terminals:

```bash
# Terminal 1 â€” Backend
cd backend
npm run dev
# â†’ http://localhost:5000

# Terminal 2 â€” Frontend
cd frontend
npm run dev
# â†’ http://localhost:5173
```

Open [http://localhost:5173](http://localhost:5173) in your browser.

---

## ğŸ“ Project Structure

```
youtube-learning-companion/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ db.js                # MongoDB connection + Analysis model
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ analysisController.js
â”‚   â”‚   â”‚   â”œâ”€â”€ historyController.js
â”‚   â”‚   â”‚   â””â”€â”€ pdfController.js
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ analysisRoutes.js
â”‚   â”‚   â”‚   â””â”€â”€ historyRoutes.js
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ youtubeService.js    # Transcript extraction
â”‚   â”‚   â”‚   â”œâ”€â”€ aiService.js         # Gemini AI integration
â”‚   â”‚   â”‚   â””â”€â”€ pdfService.js        # PDF generation
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ errorHandler.js
â”‚   â”‚   â”‚   â””â”€â”€ jsonParser.js
â”‚   â”‚   â””â”€â”€ server.js
â”‚   â”œâ”€â”€ .env.example
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Navbar.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ VideoCard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NotesList.jsx        # Timestamped notes with YouTube links
â”‚   â”‚   â”‚   â”œâ”€â”€ QuizComponent.jsx    # Interactive MCQ quiz
â”‚   â”‚   â”‚   â”œâ”€â”€ FlashcardDeck.jsx    # Flip animation flashcards
â”‚   â”‚   â”‚   â””â”€â”€ Loader.jsx
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ HomePage.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardPage.jsx
â”‚   â”‚   â”‚   â””â”€â”€ VideoDetailsPage.jsx
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.js               # Axios API calls
â”‚   â”‚   â”‚   â”œâ”€â”€ localStorage.js      # Browser history storage
â”‚   â”‚   â”‚   â””â”€â”€ helpers.js           # Timestamp, clipboard, etc.
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â”œâ”€â”€ main.jsx
â”‚   â”‚   â””â”€â”€ index.css
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ README.md
```

---

## ğŸ”Œ API Endpoints

### `POST /api/analyze`
Analyze a YouTube video.

**Request:**
```json
{ "videoUrl": "https://www.youtube.com/watch?v=dQw4w9WgXcQ" }
```

**Response:**
```json
{
  "success": true,
  "data": {
    "_id": "...",
    "videoId": "dQw4w9WgXcQ",
    "videoUrl": "https://...",
    "title": "Video Title",
    "summary": "5-8 line summary...",
    "keyTakeaways": ["point 1", "point 2"],
    "notes": [
      { "timestamp": "00:45", "text": "Important concept explained..." }
    ],
    "quiz": [
      {
        "question": "What is...?",
        "options": ["A. ...", "B. ...", "C. ...", "D. ..."],
        "answer": "B",
        "explanation": "Because..."
      }
    ],
    "flashcards": [
      { "front": "What is X?", "back": "X is ..." }
    ],
    "thumbnail": "https://img.youtube.com/vi/VIDEO_ID/hqdefault.jpg",
    "createdAt": "2024-01-01T00:00:00.000Z"
  }
}
```

### `GET /api/history`
Get list of recent analyses (requires MongoDB).

### `GET /api/history/:id`
Get full analysis by `_id` or `videoId`.

### `DELETE /api/history/:id`
Delete an analysis.

### `GET /api/history/:id/pdf`
Download PDF for analysis stored in MongoDB.

### `POST /api/analyze/pdf`
Generate PDF from analysis data passed in body (for fresh analyses).

**Request body:** `{ "data": { ...analysisObject } }`

---

## ğŸŒ Deployment

### Backend (Render / Railway)

1. Push your code to GitHub
2. Create a new Web Service on [Render](https://render.com)
3. Set build command: `npm install`
4. Set start command: `node src/server.js`
5. Add environment variables:
   - `GEMINI_API_KEY`
   - `MONGODB_URI` (optional â€” use MongoDB Atlas)
   - `FRONTEND_URL` (your Vercel URL)
   - `NODE_ENV=production`

### Frontend (Vercel)

1. Import your repo on [Vercel](https://vercel.com)
2. Set framework to **Vite**
3. Set root directory to `frontend`
4. Add environment variable:
   - `VITE_API_URL=https://your-backend.onrender.com`

---

## ğŸ”‘ Environment Variables Reference

| Variable | Required | Description |
|---|---|---|
| `GEMINI_API_KEY` | âœ… Yes | Your Google Gemini API key |
| `PORT` | No | Backend port (default: 5000) |
| `MONGODB_URI` | No | MongoDB connection string |
| `FRONTEND_URL` | No | Frontend URL for CORS |
| `VITE_API_URL` | âœ… Yes | Backend base URL for frontend |

---

## ğŸ› ï¸ Tech Stack

**Backend:** Node.js, Express, `youtube-transcript`, `@google/generative-ai`, `pdfkit`, Mongoose

**Frontend:** React 18, Vite, TailwindCSS, React Router, Axios, Framer Motion, Lucide Icons, React Hot Toast

---

## âš ï¸ Notes

- Videos must have captions/transcripts enabled on YouTube
- Auto-generated captions work too
- Processing time: ~20â€“40 seconds depending on video length
- Very long videos (>2 hours) are truncated to ~15,000 characters for AI processing

---

## ğŸ“„ License

MIT
